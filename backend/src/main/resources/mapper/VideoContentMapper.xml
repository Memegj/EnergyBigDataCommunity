<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="upc.backend.mapper.VideoContentMapper">
    <resultMap id="BaseResultMap" type="upc.backend.entity.VideoContent">
        <id column="VideocontentId" jdbcType="INTEGER" property="videoContentId" />
        <result column="VideocontentName" jdbcType="VARCHAR" property="videoContentName" />
        <result column="UploadTime" jdbcType="TIMESTAMP" property="uploadTime" />
        <result column="VideocontentUrl" jdbcType="VARCHAR" property="videoContentUrl" />
        <result column="VideoId" jdbcType="INTEGER" property="videoId" />
    </resultMap>

    <sql id="Base_Column_List">
        VideocontentId,VideocontentName,UploadTime,VideocontentUrl,VideoId
    </sql>

    <!-- 根据 VideoId 查询视频详情 -->
    <select id="selectByVideoId" parameterType="int" resultMap="BaseResultMap">
        SELECT * FROM videocontent
        WHERE VideoId = #{videoId}
    </select>

    <select id="findAllVideocontentList" parameterType="Map" resultMap="BaseResultMap">
        SELECT * FROM videocontent
        WHERE VideoId = #{videoId}
        <if test="start!=null and limit!=null">
            limit #{start},#{limit}
        </if>
    </select>

    <select id="getNumOfTotalVideocontent" parameterType="Map" resultType="int">
        select count(*) from videocontent
        WHERE VideoId = #{videoId}
    </select>
</mapper>
